import os
import random
from telegram import Update, ReplyKeyboardMarkup
from telegram.ext import ApplicationBuilder, CommandHandler, ContextTypes, MessageHandler, filters

# -----------------------------
# 1Ô∏è‚É£ –¢–æ–∫–µ–Ω
# -----------------------------
TOKEN = os.getenv("TOKEN")
if not TOKEN:
    raise ValueError("–¢–æ–∫–µ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω! –ü—Ä–æ–≤–µ—Ä—å Environment Variables –Ω–∞ Railway")
TOKEN = TOKEN.strip()

# -----------------------------
# 2Ô∏è‚É£ –ü–∞–ø–∫–∞ —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏
# -----------------------------
PHOTOS_DIR = "photos"
photo_files = os.listdir(PHOTOS_DIR)
photo_files = [f for f in photo_files if f.endswith(".jpg")]
if not photo_files:
    raise ValueError("–í –ø–∞–ø–∫–µ photos –Ω–µ—Ç jpg —Ñ–∞–π–ª–æ–≤!")
photo_files.sort()

# -----------------------------
# 3Ô∏è‚É£ –°–ø–∏—Å–æ–∫ —Ñ—Ä–∞–∑
# -----------------------------
PHRASES = [
    "–õ–µ–Ω–æ—á–∫–∞, —Ç—ã –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è, –Ω–µ –∑–∞–±—ã–≤–∞–π –æ–± —ç—Ç–æ–º üå∏",
    "–î—ã—à–∏ –≥–ª—É–±–æ–∫–æ, –≤—Å—ë –Ω–∞–ª–∞–¥–∏—Ç—Å—è, —è –≤–µ—Ä—é –≤ —Ç–µ–±—è ‚ù§Ô∏è",
    "–¢—ã —Å–∏–ª—å–Ω–∞—è, —Å–º–µ–ª–∞—è –∏ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–∞—è, –õ–µ–Ω–æ—á–∫–∞ üåà",
    "–ù–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π —Å–ª–∏—à–∫–æ–º —Å–∏–ª—å–Ω–æ, –º–∏—Ä –ª—é–±–∏—Ç —Ç–µ–±—è üåº",
    "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å ‚Äî –Ω–æ–≤–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å, –õ–µ–Ω–æ—á–∫–∞ ‚ú®",
    "–¢—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å —Å—á–∞—Å—Ç—å—è –∏ —Ç–µ–ø–ª–∞, –Ω–µ –∑–∞–±—ã–≤–∞–π üå∑",
    "–õ–µ–Ω–æ—á–∫–∞, –ø–æ–º–Ω–∏, —á—Ç–æ —Ç–≤–æ–∏ —á—É–≤—Å—Ç–≤–∞ –≤–∞–∂–Ω—ã –∏ –∏—Ö –º–æ–∂–Ω–æ –æ—Ç–ø—É—Å—Ç–∏—Ç—å üíõ",
    "–¢—ã –º–æ–∂–µ—à—å –≤—Å—ë, —á—Ç–æ –∑–∞–¥—É–º–∞–ª–∞, –ø—Ä–æ—Å—Ç–æ –ø–æ–≤–µ—Ä—å –≤ —Å–µ–±—è üí´",
    "–°–º–µ–π—Å—è, –¥–∞–∂–µ –µ—Å–ª–∏ —Å–µ–≥–æ–¥–Ω—è —Ç—Ä—É–¥–Ω–æ, –õ–µ–Ω–æ—á–∫–∞ üò∫",
    "–¢—ã –¥–µ–ª–∞–µ—à—å –º–∏—Ä —è—Ä—á–µ, –ø—Ä–æ—Å—Ç–æ –±—É–¥—å —Å–æ–±–æ–π üåü",
    "–õ–µ–Ω–æ—á–∫–∞, –≤—Å—ë, —á—Ç–æ —Ç–µ–±—è —Ç—Ä–µ–≤–æ–∂–∏—Ç, –ø—Ä–æ–π–¥—ë—Ç üïäÔ∏è",
    "–ù–µ —Å–ø–µ—à–∏, –¥—ã—à–∏ –∏ –¥–µ–ª–∞–π –º–∞–ª–µ–Ω—å–∫–∏–µ —à–∞–≥–∏ üå∏",
    "–¢—ã —É–∂–µ –ø—Ä–æ–¥–µ–ª–∞–ª–∞ –æ–≥—Ä–æ–º–Ω—É—é —Ä–∞–±–æ—Ç—É, –õ–µ–Ω–æ—á–∫–∞ üëè",
    "–õ—é–±–æ–π —à—Ç–æ—Ä–º –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è, –∏ —Å–æ–ª–Ω—Ü–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–π–¥–µ—Ç ‚òÄÔ∏è",
    "–õ–µ–Ω–æ—á–∫–∞, –∑–Ω–∞–π: —Ç–≤–æ—è –¥–æ–±—Ä–æ—Ç–∞ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –º–∏—Ä –ª—É—á—à–µ üíñ",
    "–¢—ã —É–º–µ–µ—à—å —Å–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Å —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏, –¥–∞–∂–µ –µ—Å–ª–∏ —Å–µ–π—á–∞—Å —Ç—è–∂–µ–ª–æ üå∑",
    "–ü–æ–∑–≤–æ–ª—å —Å–µ–±–µ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å –∏ —É–ª—ã–±–Ω—É—Ç—å—Å—è üòä",
    "–õ–µ–Ω–æ—á–∫–∞, —Ç—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å –ª—é–±–≤–∏ –∏ –∑–∞–±–æ—Ç—ã üåπ",
    "–ö–∞–∂–¥–æ–µ —Ç–≤–æ–µ —á—É–≤—Å—Ç–≤–æ –≤–∞–∂–Ω–æ, –Ω–µ –ø–æ–¥–∞–≤–ª—è–π –µ–≥–æ üíõ",
    "–¢—ã –Ω–µ –æ–¥–Ω–∞, –º–∏—Ä –∏ —è —Å —Ç–æ–±–æ–π üåà",
    "–õ–µ–Ω–æ—á–∫–∞, —Å–µ–≥–æ–¥–Ω—è —Ö–æ—Ä–æ—à–∏–π –¥–µ–Ω—å –¥–ª—è –º–∞–ª–µ–Ω—å–∫–æ–π —Ä–∞–¥–æ—Å—Ç–∏ üçÄ",
    "–¢—ã —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤–∞, —É–º–Ω–∞ –∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞ üåü",
    "–ù–µ –±–æ–π—Å—è –æ—à–∏–±–æ–∫, –æ–Ω–∏ –¥–µ–ª–∞—é—Ç —Ç–µ–±—è —Å–∏–ª—å–Ω–µ–µ üí´",
    "–õ–µ–Ω–æ—á–∫–∞, —É–ª—ã–±–Ω–∏—Å—å, –¥–∞–∂–µ –º–∞–ª–µ–Ω—å–∫–∞—è —É–ª—ã–±–∫–∞ ‚Äî —ç—Ç–æ –º–∞–≥–∏—è üò∫",
    "–¢—ã —Å–ø–æ—Å–æ–±–Ω–∞ –Ω–∞ –±–æ–ª—å—à–µ–µ, —á–µ–º –¥—É–º–∞–µ—à—å üåº",
    "–í—Å—ë –±—É–¥–µ—Ç —Ö–æ—Ä–æ—à–æ, –ø—Ä–æ—Å—Ç–æ –¥–æ–≤–µ—Ä—è–π —Å–µ–±–µ üå∑",
    "–õ–µ–Ω–æ—á–∫–∞, —Ç—ã —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–∞—è, –Ω–µ —Å–æ–º–Ω–µ–≤–∞–π—Å—è üå∏",
    "–ü—É—Å—Ç—å —Å–µ–≥–æ–¥–Ω—è –±—É–¥–µ—Ç –º–∏–Ω—É—Ç–∫–∞ –ø–æ–∫–æ—è –∏ —Ç–µ–ø–ª–∞ üíñ",
    "–¢—ã —É–º–µ–µ—à—å —Å–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Å –ª—é–±—ã–º–∏ –±—É—Ä—è–º–∏, –õ–µ–Ω–æ—á–∫–∞ üïäÔ∏è",
    "–ü–æ–º–Ω–∏, —á—Ç–æ –º–∞–ª–µ–Ω—å–∫–∏–µ –ø–æ–±–µ–¥—ã ‚Äî —ç—Ç–æ —Ç–æ–∂–µ —É—Å–ø–µ—Ö üåü",
    "–õ–µ–Ω–æ—á–∫–∞, –ø–æ–∑–≤–æ–ª—å —Å–µ–±–µ –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Ä–∞–¥–æ—Å—Ç—å —Å–µ–≥–æ–¥–Ω—è üòä",
    "–¢—ã –¥–æ—Å—Ç–æ–π–Ω–∞ —Å–∞–º—ã—Ö —Ç—ë–ø–ª—ã—Ö —Å–ª–æ–≤ –∏ –æ–±—ä—è—Ç–∏–π üíõ",
    "–î–∞–∂–µ –≤ —Ç—Ä—É–¥–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã —Ç—ã –æ—Å—Ç–∞—ë—à—å—Å—è –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–π üå∑",
    "–õ–µ–Ω–æ—á–∫–∞, —Ç–≤–æ—è —ç–Ω–µ—Ä–≥–∏—è –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –º–∏—Ä —Å–≤–µ—Ç–ª–µ–µ ‚ú®",
    "–î–æ–≤–µ—Ä—è–π —Å–µ–±–µ, —Ç—ã –≤—Å—ë —Å–º–æ–∂–µ—à—å üí´",
    "–¢—ã —É–∂–µ –º–Ω–æ–≥–æ –ø—Ä–æ—à–ª–∞, –≥–æ—Ä–¥–∏—Å—å —Å–æ–±–æ–π üåπ",
    "–õ–µ–Ω–æ—á–∫–∞, –∏–Ω–æ–≥–¥–∞ –æ—Ç–¥—ã—Ö ‚Äî —ç—Ç–æ –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–± –±—ã—Ç—å —Å–∏–ª—å–Ω–æ–π üåº",
    "–¢—ã –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞ —Ç–∞–∫–æ–π, –∫–∞–∫–∞—è –µ—Å—Ç—å üò∫",
    "–ü—É—Å—Ç—å —Å–µ–≥–æ–¥–Ω—è –±—É–¥–µ—Ç –º–∞–ª–µ–Ω—å–∫–æ–µ —á—É–¥–æ –¥–ª—è —Ç–µ–±—è üíñ",
    "–õ–µ–Ω–æ—á–∫–∞, —Ç–≤–æ—è —É–ª—ã–±–∫–∞ ‚Äî —ç—Ç–æ —Å–æ–ª–Ω—Ü–µ –¥–ª—è –¥—Ä—É–≥–∏—Ö üå∏",
    "–¢—ã —Å–ø–æ—Å–æ–±–Ω–∞ –Ω–∞ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ–µ, –ø–æ–≤–µ—Ä—å üåà",
    "–î–∞–∂–µ –µ—Å–ª–∏ —Ç—è–∂–µ–ª–æ, –∫–∞–∂–¥—ã–π —à–∞–≥ ‚Äî —ç—Ç–æ –ø—Ä–æ–≥—Ä–µ—Å—Å üå∑",
    "–õ–µ–Ω–æ—á–∫–∞, –±—É–¥—å –º—è–≥–∫–æ–π –∫ —Å–µ–±–µ, —Ç—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å –∑–∞–±–æ—Ç—ã üïäÔ∏è",
    "–¢—ã —É–Ω–∏–∫–∞–ª—å–Ω–∞, –ø–æ–º–Ω–∏ –æ–± —ç—Ç–æ–º ‚ú®",
    "–õ–µ–Ω–æ—á–∫–∞, –∫–∞–∂–¥—ã–π —Ç–≤–æ–π –¥–µ–Ω—å ‚Äî —ç—Ç–æ –º–∞–ª–µ–Ω—å–∫–∞—è –ø–æ–±–µ–¥–∞ üíõ",
    "–¢—ã —Å–≤–µ—Ç–∏—à—å –¥–∞–∂–µ –≤ —Å–∞–º—ã–µ –ø–∞—Å–º—É—Ä–Ω—ã–µ –¥–Ω–∏ üåü",
    "–õ–µ–Ω–æ—á–∫–∞, —Ç—ã —Å–ø—Ä–∞–≤–∏—à—å—Å—è —Å —ç—Ç–∏–º, —è –∑–Ω–∞—é üò∫",
    "–ü—É—Å—Ç—å –ª—é–±–æ–≤—å –∫ —Å–µ–±–µ —Å—Ç–∞–Ω–µ—Ç —Ç–≤–æ–µ–π —Å–∏–ª–æ–π üå∏",
    "–¢—ã –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞, –¥–∞–∂–µ –∫–æ–≥–¥–∞ —Å–æ–º–Ω–µ–≤–∞–µ—à—å—Å—è üíñ",
    "–õ–µ–Ω–æ—á–∫–∞, –¥–æ–≤–µ—Ä—è–π —Å–≤–æ–∏–º –æ—â—É—â–µ–Ω–∏—è–º –∏ —á—É–≤—Å—Ç–≤–∞–º üå∑",
    "–ö–∞–∂–¥–æ–µ —É—Ç—Ä–æ ‚Äî —à–∞–Ω—Å –Ω–∞—á–∞—Ç—å —Å —á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞ üåà"
    "–¢—ã —Å–∞–º–æ–µ —Ç—ë–ø–ª–æ–µ, —á—Ç–æ –µ—Å—Ç—å –≤ –º–æ—ë–º –¥–Ω–µ.",
    "–° —Ç–æ–±–æ–π –¥–∞–∂–µ –æ–±—ã—á–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –æ—Å–æ–±–µ–Ω–Ω—ã–º–∏.",
    "–ú–∏—Ä —Å —Ç–æ–±–æ–π –æ—â—É—â–∞–µ—Ç—Å—è –¥–æ–±—Ä–µ–µ.",
    "–¢—ã –¥–µ–ª–∞–µ—à—å –º–æ—é –∂–∏–∑–Ω—å —Å–≤–µ—Ç–ª–µ–µ.",
    "–£–ª—ã–±–∫–∞ ‚Äî —ç—Ç–æ —Ç–≤–æ—è —Å—É–ø–µ—Ä—Å–∏–ª–∞.",
    "–°–ø–∞—Å–∏–±–æ, —á—Ç–æ —Ç—ã –µ—Å—Ç—å.",
    "–° —Ç–æ–±–æ–π —Ö–æ—á–µ—Ç—Å—è –±—ã—Ç—å –ª—É—á—à–µ.",
    "–¢—ã –º–æ–π —É—é—Ç.",
    "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å —Å —Ç–æ–±–æ–π —ç—Ç–æ –º–∞–ª–µ–Ω—å–∫–æ–µ —Å—á–∞—Å—Ç—å–µ.",
    "–¢—ã –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—à—å –ø—Ä–æ—Å—Ç–æ —Ç–µ–º, —á—Ç–æ —Ä—è–¥–æ–º.",
    "–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è, —á—Ç–æ —Ç—ã –µ—Å—Ç—å –≤ —ç—Ç–æ–º –º–∏—Ä–µ.",
    "–° —Ç–æ–±–æ–π –≤—Å—ë –æ—â—É—â–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º.",
    "–¢—ã –º–æ—è –ª—é–±–æ–≤—å.",
    "–¢–≤–æ—è –Ω–µ–∂–Ω–æ—Å—Ç—å –±–µ—Å—Ü–µ–Ω–Ω–∞.",
    "–¢—ã —É–º–µ–µ—à—å –¥–µ–ª–∞—Ç—å –¥–µ–Ω—å —Ç–µ–ø–ª–µ–µ.",
    "–Ø –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω —Å—É–¥—å–±–µ –∑–∞ —Ç–µ–±—è.",
    "–° —Ç–æ–±–æ–π –ª–µ–≥–∫–æ –∏ —Å–ø–æ–∫–æ–π–Ω–æ.",
    "–¢—ã –º–æ—è —Ä–∞–¥–æ—Å—Ç—å.",
    "–î–∞–∂–µ –∫–æ—Ç–∏–∫–∏ –∑–∞–≤–∏–¥—É—é—Ç —Ç–≤–æ–µ–π –º–∏–ª–æ—Ç–µ.",
    "–¢—ã —É–∫—Ä–∞—à–∞–µ—à—å —ç—Ç–æ—Ç –¥–µ–Ω—å.",
    "–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –¥—É–º–∞—Ç—å –æ —Ç–µ–±–µ.",
    "–¢—ã –ª—É—á—à–µ–µ, —á—Ç–æ —Å–æ –º–Ω–æ–π —Å–ª—É—á–∞–ª–æ—Å—å.",
    "–° —Ç–æ–±–æ–π —Ö–æ—á–µ—Ç—Å—è –¥–µ–ª–∏—Ç—å—Å—è –≤—Å–µ–º.",
    "–¢—ã –¥–µ–ª–∞–µ—à—å –º–∏—Ä –º—è–≥—á–µ.",
    "–¢—ã –º–æ—ë —Å—á–∞—Å—Ç—å–µ.",
    "–°–ø–∞—Å–∏–±–æ –∑–∞ —Ç–≤–æ—é –¥–æ–±—Ä–æ—Ç—É.",
    "–° —Ç–æ–±–æ–π –≤—Å–µ–≥–¥–∞ —Ç–µ–ø–ª–æ.",
    "–¢—ã –æ—Å–≤—è—â–∞–µ—à—å —ç—Ç–æ—Ç –¥–µ–Ω—å",
    "–¢—ã –¥–µ–ª–∞–µ—à—å –º–µ–Ω—è —Å—á–∞—Å—Ç–ª–∏–≤—ã–º.",
    "–ú–Ω–µ –ø–æ–≤–µ–∑–ª–æ, —á—Ç–æ —Ç—ã —Ä—è–¥–æ–º.",
    "–¢—ã –∫–∞–∫ –ª—É—á–∏–∫ —Å–≤–µ—Ç–∞.",
    "–° —Ç–æ–±–æ–π –¥–∞–∂–µ —Ç–∏—à–∏–Ω–∞ –ø—Ä–∏—è—Ç–Ω–∞—è.",
    "–¢—ã –º–æ—è –∑–∞–π–∫–∞!",
    "–Ø —É–ª—ã–±–∞—é—Å—å, –∫–æ–≥–¥–∞ –¥—É–º–∞—é –æ —Ç–µ–±–µ.",
    "–¢—ã –º–æ—ë –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ.",
    "–£–ª—ã–±–Ω–∏—Å—å!",
    "–ú–Ω–µ —Ö–æ—Ä–æ—à–æ, –∫–æ–≥–¥–∞ —Ç—ã —Ä—è–¥–æ–º.",
    "–¢—ã –º–æ–π –º–∞–ª–µ–Ω—å–∫–∏–π –ø—Ä–∞–∑–¥–Ω–∏–∫.",
    "–¢—ã –ª—É—á—à–µ –≤—Å–µ—Ö.",
    "–ù–µ –æ–ø–∏—Å–∞—Ç—å —Å–ª–æ–≤–∞–º–∏ –º–æ—é –ª—é–±–æ–≤—å –∫ —Ç–µ–±–µ.",
    "–°–ø–∞—Å–∏–±–æ",
    "–¢—ã –º–æ—è –Ω–µ–∂–Ω–æ—Å—Ç—å.",
    "–Ø –∑–Ω–∞—é, —á—Ç–æ —Ç—ã —Å—Ç–∞—Ä–∞–µ—à—å—Å—è.",
    "–¢—ã –º–æ—è —Ä–∞–¥–æ—Å—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.",
    "–° —Ç–æ–±–æ–π —Ö–æ—á–µ—Ç—Å—è —É–ª—ã–±–∞—Ç—å—Å—è."
]

# -----------------------------
# 4Ô∏è‚É£ –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏
# -----------------------------
keyboard = [
    ["–ú–æ—Ç–∏–≤–∏—Ä—É—é—â–∞—è —Ñ—Ä–∞–∑–∞ üå∏", "–ú–∏–ª–∞—è —Ñ–æ—Ç–∫–∞ üê∂"],
    ["–ü–æ–º–æ—â—å ‚ÑπÔ∏è"]
]
reply_markup = ReplyKeyboardMarkup(keyboard, resize_keyboard=True)

# -----------------------------
# 5Ô∏è‚É£ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
# -----------------------------
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text(
        "–ü—Ä–∏–≤–µ—Ç! –Ø —Ç–≤–æ–π –º–∞–ª–µ–Ω—å–∫–∏–π –¥—Ä—É–∂–æ–∫ —Å –º–∏–ª—ã–º–∏ —Ñ—Ä–∞–∑–∞–º–∏ –∏ —Ñ–æ—Ç–æ üê∂üå∏\n"
        "–ù–∞–∂–∏–º–∞–π –Ω–∞ –∫–Ω–æ–ø–∫–∏ –≤–Ω–∏–∑—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å –º–æ—Ç–∏–≤–∞—Ü–∏—é –∏ —Ñ–æ—Ç–∫–∏.",
        reply_markup=reply_markup
    )

async def handle_message(update: Update, context: ContextTypes.DEFAULT_TYPE):
    text = update.message.text

    if text == "–ú–æ—Ç–∏–≤–∏—Ä—É—é—â–∞—è —Ñ—Ä–∞–∑–∞ üå∏":
        phrase = random.choice(PHRASES)
        await update.message.reply_text(phrase, reply_markup=reply_markup)
    elif text == "–ú–∏–ª–∞—è —Ñ–æ—Ç–∫–∞ üê∂":
        photo_path = os.path.join(PHOTOS_DIR, random.choice(photo_files))
        await update.message.reply_photo(photo=open(photo_path, "rb"), reply_markup=reply_markup)
    elif text == "–ü–æ–º–æ—â—å ‚ÑπÔ∏è":
        help_text = (
            "–í–æ—Ç —á—Ç–æ —è —É–º–µ—é:\n"
            "üå∏ –ú–æ—Ç–∏–≤–∏—Ä—É—é—â–∞—è —Ñ—Ä–∞–∑–∞ ‚Äî –ø—Ä–∏—Å—ã–ª–∞—é —Å–ª—É—á–∞–π–Ω—É—é –º–æ—Ç–∏–≤–∞—Ü–∏—é\n"
            "üê∂ –ú–∏–ª–∞—è —Ñ–æ—Ç–∫–∞ ‚Äî –ø—Ä–∏—Å—ã–ª–∞—é —Ñ–æ—Ç–æ —Å–æ–±–∞–∫\n"
            "‚ÑπÔ∏è –ü–æ–º–æ—â—å ‚Äî —ç—Ç–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∞"
        )
        await update.message.reply_text(help_text, reply_markup=reply_markup)
    else:
        await update.message.reply_text(
            "–ù–∞–∂–∏–º–∞–π –Ω–∞ –∫–Ω–æ–ø–∫–∏ –≤–Ω–∏–∑—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –º–æ—Ç–∏–≤–∞—Ü–∏—é –∏–ª–∏ —Ñ–æ—Ç–æ üê∂üå∏",
            reply_markup=reply_markup
        )

# -----------------------------
# 6Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
# -----------------------------
app = ApplicationBuilder().token(TOKEN).build()
app.add_handler(CommandHandler("start", start))
app.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, handle_message))

# -----------------------------
# 7Ô∏è‚É£ –ó–∞–ø—É—Å–∫
# -----------------------------
if __name__ == "__main__":
    print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω!")
    app.run_polling()

