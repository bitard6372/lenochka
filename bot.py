import random
import os
from telegram import Update
from telegram.ext import ApplicationBuilder, CommandHandler, ContextTypes

# ====== –ù–ê–°–¢–†–û–ô–ö–ò ======
TOKEN = "8217164196:AAHKv8NStBZbJR1QAGIJFO3Nn8fcX3UNNXQ"
PHOTOS_DIR = "photos"

# ====== –ü–£–õ –§–†–ê–ó (50) ======
phrases = [
    "–¢—ã –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏",
    "–° —Ç–æ–±–æ–π –≤—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ",
    "–≠—Ç–æ —á—É–≤—Å—Ç–≤–æ –ø—Ä–æ–π–¥—ë—Ç",
    "–ú–æ–∂–Ω–æ –≤—ã–¥–æ—Ö–Ω—É—Ç—å",
    "–¢—ã –Ω–µ –æ–±—è–∑–∞–Ω–∞ —Ä–µ—à–∞—Ç—å –≤—Å—ë —Å–µ–π—á–∞—Å",
    "–¢—ã —Å–ø—Ä–∞–≤–ª—è–µ—à—å—Å—è, –¥–∞–∂–µ –µ—Å–ª–∏ —Ç–∞–∫ –Ω–µ –∫–∞–∂–µ—Ç—Å—è",
    "–ú–æ–∂–Ω–æ –∑–∞–º–µ–¥–ª–∏—Ç—å—Å—è",
    "–¢—ã –Ω–µ –æ–¥–Ω–∞",
    "–¢–≤–æ–∏ —á—É–≤—Å—Ç–≤–∞ –≤–∞–∂–Ω—ã",
    "–ù–µ –Ω—É–∂–Ω–æ –±—ã—Ç—å —Å–∏–ª—å–Ω–æ–π –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å",

    "–í—Å—ë, —á—Ç–æ —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å, ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–æ",
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –Ω–∞ –ø–∞—É–∑—É",
    "–ú–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∂–∏—Ç—å —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç",
    "–¢—ã –Ω–µ —Å–ª–æ–º–∞–Ω–∞",
    "–≠—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ",
    "–¢—ã —É–∂–µ –¥–µ–ª–∞–µ—à—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ",
    "–ù–µ –Ω—É–∂–Ω–æ —Ç–æ—Ä–æ–ø–∏—Ç—å—Å—è",
    "–¢—ã –Ω–µ –æ–±—è–∑–∞–Ω–∞ –≤—Å—ë –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å",
    "–ú–æ–∂–Ω–æ –ø–æ–∑–≤–æ–ª–∏—Ç—å —Å–µ–±–µ –æ—Ç–¥—ã—Ö",
    "–¢—ã –≤–∞–∂–Ω–∞",

    "–î–∞–∂–µ —Å–µ–π—á–∞—Å —Ç—ã —Ü–µ–Ω–Ω–∞—è",
    "–¢—ã –Ω–µ –æ–±—è–∑–∞–Ω–∞ –±—ã—Ç—å –∏–¥–µ–∞–ª—å–Ω–æ–π",
    "–ú–æ–∂–Ω–æ –¥—ã—à–∞—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ",
    "–≠—Ç–æ—Ç –¥–µ–Ω—å –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–±—è",
    "–¢—ã –±–æ–ª—å—à–µ, —á–µ–º —ç—Ç–∞ —Ç—Ä–µ–≤–æ–≥–∞",
    "–õ–µ–Ω–æ—á–∫–∞, —Ç—ã —Å–ø—Ä–∞–≤–∏—à—å—Å—è",
    "–¢—ã –Ω–µ –æ–±—è–∑–∞–Ω–∞ –ø–æ–Ω–∏–º–∞—Ç—å –≤—Å—ë —Å—Ä–∞–∑—É",
    "–ú–æ–∂–Ω–æ –±—ã—Ç—å –º—è–≥–∫–æ–π –∫ —Å–µ–±–µ",
    "–¢—ã –Ω–µ –ø–µ—Ä–µ–≥–∏–±–∞–µ—à—å",
    "–¢–≤–æ—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å - –¥–∞—Ä",

    "–¢–≤–æ–∏ —ç–º–æ—Ü–∏–∏ –Ω–µ –¥–µ–ª–∞—é—Ç —Ç–µ–±—è —Å–ª–∞–±–æ–π",
    "–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∂–∏–≤–∞—Ç—å –∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –±—ã—Ç—å –≤ –ø–æ—Ä—è–¥–∫–µ",
    "–¢—ã –Ω–µ –æ–±—è–∑–∞–Ω–∞ —Å–µ–π—á–∞—Å —á—Ç–æ-—Ç–æ –¥–æ–∫–∞–∑—ã–≤–∞—Ç—å",
    "–¢—ã –Ω–µ –ø–ª–æ—Ö–∞—è –∑–∞ —Ç–æ, —á—Ç–æ —Ç–µ–±–µ —Ç—è–∂–µ–ª–æ",
    "–≠—Ç–æ –Ω–µ –Ω–∞–≤—Å–µ–≥–¥–∞",
    "–¢—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è",
    "–¢—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å –∑–∞–±–æ—Ç—ã",
    "–õ–µ–Ω–æ—á–∫–∞, –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –±—ã—Ç—å —Å–æ–±–æ–π",
    "–¢—ã –Ω–µ –æ–±—è–∑–∞–Ω–∞ —Å–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –æ–¥–Ω–∞",
    "–í—Å—ë, —á—Ç–æ —Å–µ–π—á–∞—Å –Ω—É–∂–Ω–æ ‚Äî –Ω–µ–º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏",

    "–¢—ã –Ω–µ –æ–±—è–∑–∞–Ω–∞ –±—ã—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–π",
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –Ω–∞ —Å–ª–∞–±–æ—Å—Ç—å",
    "–î–∞–∂–µ –µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ —à—Ç–æ—Ä–º - —ç—Ç–æ –ø—Ä–æ–π–¥—ë—Ç",
    "–¢—ã –Ω–µ –¥–µ–ª–∞–µ—à—å –Ω–∏—á–µ–≥–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ",
    "–ù–µ —Ç–æ—Ä–æ–ø–∏—Å—å, –≤—Å—ë —Ä–µ—à–∏–º —à–∞–≥ –∑–∞ —à–∞–≥–æ–º",
    "–¢—ã —Å–ø—Ä–∞–≤–ª—è–ª–∞—Å—å —Ä–∞–Ω—å—à–µ - —Å–ø—Ä–∞–≤–∏—à—å—Å—è –∏ —Å–µ–π—á–∞—Å",
    "–¢—ã —Å–∏–ª—å–Ω–µ–µ, —á–µ–º –∫–∞–∂–µ—à—å—Å—è",
    "–ú–æ–∂–Ω–æ –±—ã—Ç—å –¥–æ–±—Ä–µ–µ –∫ —Å–µ–±–µ",
    "–¢—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å —Ç–µ–ø–ª–∞",
    "–¢—ã –≤–∞–∂–Ω–∞, –¥–∞–∂–µ –∫–æ–≥–¥–∞ —Ç–µ–±–µ —Ç—è–∂–µ–ª–æ"
]

# ====== –ö–û–ú–ê–ù–î–´ ======

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text(
        "–ü—Ä–∏–≤–µ—Ç ü§ç\n"
        "–Ø –±—É–¥—É –∏–Ω–æ–≥–¥–∞ –ø—Ä–∏—Å—ã–ª–∞—Ç—å —Ç—ë–ø–ª—ã–µ —Å–ª–æ–≤–∞ –∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏.\n\n"
        "–ö–æ–º–∞–Ω–¥—ã:\n"
        "/warm ‚Äî —Ç—ë–ø–ª–∞—è —Ñ—Ä–∞–∑–∞\n"
        "/dog ‚Äî —Ñ–æ—Ç–æ —Ç–∞–∫—Å—ã\n"
        "/random ‚Äî —Å–ª—É—á–∞–π–Ω–æ"
    )

async def warm(update: Update, context: ContextTypes.DEFAULT_TYPE):
    text = random.choice(phrases)
    await update.message.reply_text(text)

async def dog(update: Update, context: ContextTypes.DEFAULT_TYPE):
    photos = os.listdir(PHOTOS_DIR)
    photo_name = random.choice(photos)
    photo_path = os.path.join(PHOTOS_DIR, photo_name)

    with open(photo_path, "rb") as photo:
        await update.message.reply_photo(photo)

async def random_all(update: Update, context: ContextTypes.DEFAULT_TYPE):
    # 50% —à–∞–Ω—Å ‚Äî —Ç–µ–∫—Å—Ç, 50% ‚Äî —Ñ–æ—Ç–æ
    if random.choice([True, False]):
        await warm(update, context)
    else:
        await dog(update, context)

# ====== –ó–ê–ü–£–°–ö ======

app = ApplicationBuilder().token(TOKEN).build()

app.add_handler(CommandHandler("start", start))
app.add_handler(CommandHandler("warm", warm))
app.add_handler(CommandHandler("dog", dog))
app.add_handler(CommandHandler("random", random_all))

app.run_polling()
